function genarate_markup_send_message(e){let s="";return console.log(e),s+=`\n    <div class="direct-chat-msg right" >\n        <div class="direct-chat-infos clearfix">\n            <span class="direct-chat-name float-right">\n            ${e.name}\n            </span>\n             <span\n                class="direct-chat-timestamp float-left"> ${e.time} </span> </div>\n        <img class="direct-chat-img" src="https://ui-avatars.com/api/?name=admin" alt="Message User Image">\n        <div class="direct-chat-text" style="word-break: break-word;">\n            ${e.message}\n        </div>\n    </div>`,s}function genarate_markup_get_message(e){let s="";return console.log(e),s+=`<div class="direct-chat-msg">\n    <div class="direct-chat-infos clearfix">\n        <span class="direct-chat-name float-left">\n        ${e.name}\n        </span>\n        <span class="direct-chat-timestamp float-right">\n        ${e.time}\n        </span>\n    </div>\n    <img class="direct-chat-img" src="https://ui-avatars.com/api/?name=admin"\n        alt="Message User Image">\n    <div class="direct-chat-text" style="word-break: break-word;">\n        ${e.message}\n    </div>\n</div>`,s}function scrollToEnding(e){$(e).scrollTop($(e).prop("scrollHeight"))}$(function(){var e="admin";const s="127.0.0.1",a="3000",n=io(s+":"+a),t=$("#chatInput"),i=$("#messages"),o=$("#user").val(),r={name:$("#name").val()};const c=(e,s=!0)=>{n.emit("joinRoom",{room:e,from_user:s}),e=e,console.log("joined : "+e)};$("#adminFinder").click(()=>{c(o)});const m=s=>{if(s||(s=t.val()),s){var a={message:s,user_from_id:o,user_to_id:e,room:o};n.emit("sendChatToServerForAdmin",a),t.val(""),i.append(genarate_markup_send_message({message:a.message,name:r.name,time:(new Date).toLocaleString()}))}return scrollToEnding(i),!1},l=e=>(e.message&&i.append(genarate_markup_get_message({message:e.message,name:"Admin",time:(new Date).toLocaleString()})),scrollToEnding(i),!1);t.keypress(function(e){let s=$(this).val();console.log(s),13!==e.which||e.shiftKey||m(s)}),$("#sendButton").on("click",()=>m(t.val())),n.on("getAdminChat",e=>{console.log(e),l(e),$("#new_unread_message_count").html(1)}),n.on("show-message-section",()=>{$("#message-sender").removeClass("d-none"),$("#adminFinder").hide(),$("#messages").scrollTop($("#messages").prop("scrollHeight"))}),$("#msgBtn").click(()=>{$("#new_unread_message_count").html("")})});